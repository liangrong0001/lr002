

      - name: Install dependencies
        run: |
          npm install -g javascript-obfuscator
         

      - name: Download and extract latest BPB worker
        run: |
          wget https://github.com/liangrong0001/date/blob/main/worker.js
      
         

      - name: Obfuscate BPB worker js
        run: |
          javascript-obfuscator worker.js --output _work.js \
          --compact true \
          --identifier-names-generator hexadecimal \
          --rename-globals true \
          --string-array true \
          --string-array-encoding 'base64' \
          --string-array-threshold 0.75 \
          --transform-object-keys true \
          --self-defending false \
          --simplify true

      - name: 提交更改
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          branch: main
          commit_message: ':arrow_up: update latest bpb panel'
          commit_author: 'github-actions[bot] <github-actions[bot]@users.noreply.github.com>'
          push_options: '--set-upstream'
